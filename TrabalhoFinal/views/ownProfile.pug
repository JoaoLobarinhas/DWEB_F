extends layout

append head
    script(src="/axios/axios.min.js")
    script(src="/javascripts/form-ownProfiles.js")
    link(rel="stylesheet", href="/stylesheets/styleProfiles.css")

block content
    .container.w-100
        .mb-3.header-background.border-top-0.border-light.mb-3(id="headerPhoto", style={"background-image": 'url('+headerPic+')'})
            div.pb-5
            img.mx-auto.d-block.profile-picture.border.border-white(id="profilePhoto", src=profilePic)
            h4.pt-3.text-center.text-white.pb-3=data.firstName+" "+data.lastName
        .row.justify-content-md-center
            .col-md-4.order-md-1.mb-4.mr-3.pt-2.background-white.border.border-light
                ul.list-group
                    li.list-group-item
                        .d-inline-flex.mt-2
                            i.material-icons person_outline
                            h5 Information
                    li.list-group-item
                        .d-inline-flex
                            i.material-icons.pr-2 perm_contact_calendar
                            p(id="number")="Studente Number: "+data.studentNumber
                    li.list-group-item
                        .d-inline-flex
                            i.material-icons.pr-2 calendar_today
                            p="Year of Inscription: "+data.curso.yearOfInscription
                    if(data.curso.yearOfConclusion)
                        li.list-group-item
                            .d-inline-flex
                                i.material-icons.pr-2 date_range
                                p="Year Of Conclusion: "+data.curso.yearOfConclusion
                    li.list-group-item
                        .d-inline-flex
                            i.material-icons.pr-2 today
                            p="Year of Enrollment: "+data.curso.year
                div.pt-3
                    .row.pb-3
                        .col
                            button.btn.btn-light.text-center(id="btnFollowing")="Following: "+data.following
                        .col
                            button.btn.btn-light.text-center(id="btnFollowers")="Followers: "+data.followers
                    btn.btn.btn-secondary.btn-lg.btn-block.mb-3.follow-button-grad(id="btnEdit" data-toggle="modal" data-target="#modalEditUser") Edit Profile
            .col-md-7.order-md-2.border.border-light.background-white
                h5 Publications
        .modal.fade(id="modalEditUser" tabindex="-1" role="dialog" aria-labelledby="modalTitle" aria-hidden="true")
            .modal-dialog.modal-lg.modal-dialog-scrollable(role="document")
                .modal-content
                    .modal-header
                        h5.modal-title Edit User
                        button.close(type="button" data-dismiss="modal" aria-label="Close")
                            i.material-icons close
                    .modal-body
                        form.needs-validation.is-invisible(action="/user/updateUser", method="post", id="form", enctype="multipart/form-data")
                            .mb-5.header-background(id="headerPreview", style={"background-image": 'url('+headerPic+')'})
                                img.p-5.mx-auto.d-block.profile-picture(src=profilePic, id="profilePreview") 
                            .mb-3
                                label(for="pictureProfile") Profile Picture *
                                input.form-control-file(type="file", id="pictureProfile", aria-describedby="fileHelp", name="pictureProfile")
                                small.form-text.text-muted(id="PPFeedback") Your profile picture can't be larger than 1mb.
                            .mb-3
                                label(for="pictureHeader") Header Picture *
                                input.form-control-file(type="file", id="pictureHeader", aria-describedby="fileHelp", name="pictureHeader")
                                small.form-text.text-muted(id="HPFeedback") Your header picture can't be larger than 1mb.
                            .row
                                .col-md-6.mb-3
                                    label(for="firstName") First Name *
                                    input.form-control(type="text", name="firstName", id="firstName", value=data.firstName)
                                    div.invalid-feedback First name is required.
                                .col-md-6.mb-3
                                    label(for="lastName") Last Name *
                                    input.form-control(type="text", name="lastName", id="lastName", value=data.lastName)
                                    div.invalid-feedback Last name is required.
                            .mb-3
                                label(for="studentNumber") Student Number *
                                input.form-control(type="text", name="studentNumber", id="studentNumber" value=data.studentNumber)
                                div.invalid-feedback(id="studentNumberFeedback") Student number is required.
                            .mb-3
                                label(for="yearInscription") Year of Inscription *
                                input.form-control(type="month", value=data.curso.yearOfInscription, id="yearInscription", name="yearOfInscription")
                                div.invalid-feedback Year of inscription is required.
                            .mb-3
                                if(data.curso.yearOfConclusion)
                                    label(for="yearConclusion") Year of Counclusion
                                    input.form-control(type="month", value=data.curso.yearOfConclusion, id="yearConclusion", name="yearOfConclusion")
                                else
                                    label(for="yearConclusion") Year of Counclusion
                                    input.form-control(type="month", id="yearConclusion", name="yearOfConclusion")
                            .mb-3
                                label(for="year") Year of Enrollment *
                                select.custom-select.mb-2.mr-sm-2.mb-sm-0(id="year",name="year")
                                    option(selected, disabled, hidden, value="0") Choose...
                                    option(value="1") 1
                                    option(value="2") 2
                                    option(value="3") 3
                                    option(value="4") 4
                                    option(value="5") 5
                                div.invalid-feedback Year of enrollment is required.
                            .mb-3
                                p.text-muted Every field with * is required
                    .modal-footer
                        button.btn.btn-secondary(type="button" data-dismiss="modal") Close
                        button.btn.btn-primary.follow-button-grad(type="button" class="btn btn-primary" id="btnUpdate") Update